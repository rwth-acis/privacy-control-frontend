<h1>Course Name</h1>
<p>This is the where you can manage your to consent to data processing for the course. Simply switch on those
  collection purposes that you are comfortable with and then click Save. Afterwards there will be about 10s of delay,
  after which you should receive a confirmation.</p>


<div class="row">
  <div class="col-2"></div>
  <div class="col-8">
    <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
      <ng-container *ngFor="let purpose of purposes">
        <ngb-panel>
          <ng-template ngbPanelTitle>
        <span>
          <b>{{purpose.title}}
            <span class="pull-right">
              <div class="form-check form-switch">
                <ng-container
                  *ngIf="previouslyConsentedPurposeIDs.includes(purpose.id); then thenBlock else elseBlock"></ng-container>
                <ng-template #thenBlock>
                  <input class="form-check-input" type="checkbox" id="purpose{{purpose.id}}" checked>
                </ng-template>
                <ng-template #elseBlock>
                  <input class="form-check-input" type="checkbox" id="purpose{{purpose.id}}">
                </ng-template>
              </div>
            </span>
          </b>
        </span>
          </ng-template>
          <ng-template ngbPanelContent>
            {{purpose.description}}
          </ng-template>
        </ngb-panel>
      </ng-container>
    </ngb-accordion>
    <br/>
    <button class="btn btn-primary float-end" (click)="onSave()">Save</button>
  </div>
  <div class="col-2"></div>
</div>

